<div class="container mt-4">
    <div class="row">
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">Nuevo Cliente</h4>
                </div>
                <div class="card-body">
                    <form id="addClientForm">
                        <div class="mb-3">
                            <label for="clientName" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="clientName" name="name" required 
                                   placeholder="Ingrese el nombre del cliente">
                        </div>
                        <div class="mb-3">
                            <label for="phoneNumber" class="form-label">Teléfono</label>
                            <input type="tel" class="form-control" id="phoneNumber" name="phone" 
                                   placeholder="Ingrese el número de teléfono">
                        </div>
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button id="submitAddClient" class="btn btn-primary">
                                <i class="fas fa-paper-plane me-2"></i> Registrar
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-6">
          <div class="card shadow">
              <div class="card-header bg-primary text-white">
                  <h4 class="mb-0">Nuevo Dispositivo</h4>
              </div>
              <div class="card-body">
                  <form id="addDeviceForm">
                      <div class="mb-3">
                          <label for="deviceType" class="form-label">Tipo</label>
                          <input type="text" class="form-control" id="deviceType" name="type" required 
                                 placeholder="Ingrese el tipo de equipo">
                      </div>
                      <div class="mb-3">
                        <label for="deviceBrand" class="form-label">Marca</label>
                        <input type="text" class="form-control" id="deviceBrand" name="brand" 
                               placeholder="Ingrese la marca del equipo">
                    </div>
                      <div class="mb-3">
                          <label for="deviceModel" class="form-label">Modelo</label>
                          <input type="tel" class="form-control" id="deviceModel" name="model" 
                                 placeholder="Ingrese el modelo del equipo">
                      </div>
                      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                          <button id="submitAddDevice" class="btn btn-primary">
                              <i class="fas fa-paper-plane me-2"></i> Registrar
                          </button>
                      </div>
                  </form>
              </div>
          </div>
      </div>
    </div>

<!-- Tercer formulario para recepción de equipos -->
<div class="row mt-4">
  <div class="col-12">
    <div class="card shadow">
      <div class="card-header bg-primary text-white">
        <h4 class="mb-0">Nueva Recepción</h4>
      </div>
      <div class="card-body">
        <form id="addReceptionForm">
          <div class="row">
            <!-- Columna izquierda -->
            <div class="col-md-6">
              <!-- Campo de pedido -->
              <div class="mb-3">
                <label for="ReceptionSaintOrder" class="form-label">Número de Pedido</label>
                <input type="text" class="form-control" id="ReceptionSaintOrder" name="saintOrder" 
                       placeholder="Ingrese el número de pedido">
              </div>

              <!-- Fecha de inicio -->
              <div class="mb-3">
                <label for="receptionDateStart" class="form-label">Fecha de Inicio</label>
                <input type="date" class="form-control" id="receptionDateStart" name="dateStart">
              </div>

                            <!-- Estado del equipo -->
                            <div class="mb-3">
                              <label for="receptionStatus" class="form-label">Estado</label>
                              <select class="form-select" id="receptionStatus" name="status" required>
                                <option value="" selected disabled>Seleccione un estado</option>
                                <option value="EN PROCESO">EN PROCESO</option>
                                <option value="PENDIENTE">PENDIENTE</option>
                                <option value="COBRADO">COBRADO</option>
                                <option value="PAGADO">PAGADO</option>
                                <option value="GARANTIA">GARANTIA</option>
                                <option value="DEVOLUCION">DEVOLUCION</option>
                                <option value="OTRO">OTRO</option>
                              </select>
                            </div>
            </div>

            <!-- Columna derecha -->
            <div class="col-md-6">
              <!-- Búsqueda de cliente -->
              <div class="mb-3">
                <label for="receptionClientSearch" class="form-label">Buscar Cliente</label>
                <div class="input-group">
                  <input type="text" class="form-control" id="receptionClientSearch" required 
                         placeholder="Buscar cliente...">
                  <button class="btn btn-outline-secondary" type="button" id="searchClientBtn">
                    <i class="fas fa-search"></i>
                  </button>
                </div>
                <!-- <div id="clientResults" class="list-group mt-2 d-none"> -->

                <!-- Los resultados de la búsqueda se cargarán aquí -->
                 
                <!-- </div> -->
                <!-- <input type="hidden" id="selectedClientId" name="clientId"> -->
                <!-- <div id="selectedClient" class="mt-2 p-2 bg-light rounded d-none"> -->
                  <!-- <small class="text-muted">Cliente seleccionado: </small> -->
                  <!-- <span id="selectedClientName"></span> -->
                  <!-- <button type="button" class="btn btn-sm btn-link text-danger" id="clearClient"> -->
                    <!-- <i class="fas fa-times"></i> -->
                  <!-- </button> -->
                <!-- </div> -->
              </div>


              <!-- Búsqueda de dispositivo -->
              <div class="mb-3">
                <label for="receptionDeviceSearch" class="form-label">Seleccionar Dispositivo</label>
                <div class="input-group">
                  <input type="text" class="form-control" id="receptionDeviceSearch" 
                         placeholder="Buscar dispositivo...">
                  <button class="btn btn-outline-secondary" type="button" id="searchDeviceBtn">
                    <i class="fas fa-search"></i>
                  </button>
                </div>
                <!-- <div id="deviceResults" class="list-group mt-2 d-none"> -->
                  <!-- Los resultados de la búsqueda se cargarán aquí -->
                <!-- </div> -->
                <!-- <input type="hidden" id="selectedDeviceId" name="deviceId"> -->
                <!-- <div id="selectedDevice" class="mt-2 p-2 bg-light rounded d-none"> -->
                  <!-- <small class="text-muted">Dispositivo seleccionado: </small> -->
                  <!-- <span id="selectedDeviceName"></span> -->
                  <!-- <button type="button" class="btn btn-sm btn-link text-danger" id="clearDevice">
                    <i class="fas fa-times"></i>
                  </button> -->
                <!-- </div> -->
              </div>
            </div>
            </div>




          <!-- Condición del equipo -->
          <div class="mb-3">
            <label for="receptionClientIssue" class="form-label">Condición del Equipo</label>
            <textarea class="form-control" id="receptionClientIssue" name="clientIssue" 
                      rows="4" placeholder="Describa la condición del equipo..." ></textarea>
          </div>

          <!-- Trabajo realizado -->
          <div class="mb-3">
            <label for="receptionWorkDone" class="form-label">Trabajo Realizado</label>
            <textarea class="form-control" id="receptionWorkDone" name="workDone" 
                      rows="4" placeholder="Describa el trabajo realizado..."></textarea>
          </div>


          <!-- Botón de envío -->
          <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <button id="submitAddReception" class="btn btn-primary">
              <i class="fas fa-save me-2"></i> Registrar Recepción
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

</div>



<script>

submitForm(
    'submitAddReception',
    'addReceptionForm',
    '/api/receptions',
    (data, form) => {
      if (data.success){
        form.reset();
        alert('la recepcion se ha agregado exitosamente');
      }else{
        console.log(data)
        alert(`No se ha realizado la operacion: ${data.message}`);
      }
    },
    (error) => {
        console.log(error)
        alert('No se ha podido encontrar al servidor');
    }
);

submitForm(
    'submitAddDevice',
    'addDeviceForm',
    '/api/devices',
    (data, form) => {
      if (data.success){
        form.reset();
        alert('el dispositivo se ha agregado exitosamente');
      }else{
        console.log(data)
        alert(`No se ha realizado la operacion: ${data.message}`);
      }
    },
    (error) => {
        console.log(error)
        alert('No se ha podido encontrar al servidor');
    }
);

submitForm(
    'submitAddDevice',
    'addClientForm',
    '/api/clients',
    (data, form) => {
      console.log(data)
      if (data.success){
        form.reset();
        alert('el cliente se ha agregado exitosamente');
      }else{
        console.log(data)
        alert(`No se ha realizado la operacion: ${data.message}`);
      }
    },
    (error) => {
        console.log(error)
        alert('No se ha podido encontrar al servidor');
    }
);
</script>

<style>
    .card {
        border: none;
        border-radius: 10px;
        overflow: hidden;
    }
    .card-header {
        padding: 1rem 1.5rem;
    }
    .form-control:focus {
        border-color: #4e73df;
        box-shadow: 0 0 0 0.25rem rgba(78, 115, 223, 0.25);
    }
    .btn-primary {
        background-color: #4e73df;
        border: none;
        padding: 0.5rem 1.5rem;
    }
    .btn-primary:hover {
        background-color: #2e59d9;
    }
</style>